<div style="margin: 15px; margin-right: 30px; margin-top: 50px;">
    <form class="layui-form record-form">
        <input type="hidden" name="id" value="{$info['id']|default:''}">
        <div class="layui-form-item">
            <label class="layui-form-label">培训内容</label>
            <div class="layui-input-inline">
                <select name="company_id" lay-filter="select-role" lay-verify="required">
                    <option value="">-- 选择培训内容 --</option>
                    {foreach from=$trainingList key=key item=row}
                    <option value="{$row.id}" {if $info.training_id eq $row.id }selected{/if}>{$row.name}</option>
                    {/foreach}
                </select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">招聘名称</label>
            <div class="layui-input-block" width="120">
                <input type="text" name="title" value="{$info['title']|default:''}" lay-verify="required|title" placeholder="请输入工作名称" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">公司名称</label>
            <div class="layui-input-inline">
                <select name="company_id" lay-filter="select-role" lay-verify="required">
                    <option value="">-- 选择公司名称 --</option>
                    {foreach from=$companyList key=key item=row}
                    <option value="{$row.id}" {if $info.company_id eq $row.id }selected{/if}>{$row.name}</option>
                    {/foreach}
                </select>
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">薪水类型</label>
            <div class="layui-input-inline">
                <select name="money_type" lay-filter="select-role" lay-verify="required">
                    <option value="">-- 选择薪水类型 --</option>
                    <option value="1" {if $info.money_type eq "1" }selected{/if}>月薪</option>
                    <option value="2" {if $info.money_type eq "2" }selected{/if}>日薪</option>
                    <option value="3" {if $info.money_type eq "3" }selected{/if}>年薪</option>
                    <option value="4" {if $info.money_type eq "4" }selected{/if}>周薪</option>
                    <option value="5" {if $info.money_type eq "5" }selected{/if}>次日结</option>
                </select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">职位类别</label>
            <div class="layui-input-inline">
                <select name="type" lay-filter="select-role" lay-verify="required">
                    <option value="">-- 选择职位类别 --</option>
                    <option value="1" {if $info.type eq "1" }selected{/if} >兼职</option>
                    <option value="2" {if $info.type eq "2" }selected{/if}>全职</option>
                </select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">性别要求</label>
            <div class="layui-input-block" >
                <input type="radio" name="sex" value="0" lay-verify="required"  autocomplete="off" class="layui-input" title="不限" {if $info['sex'] eq 0 }checked='checked'{/if}>
                <input type="radio" name="sex" value="1" lay-verify="required"  autocomplete="off" class="layui-input" title="男" {if $info['sex'] eq 1 }checked='checked'{/if}>
                <input type="radio" name="sex" value="2" lay-verify="required"  autocomplete="off" class="layui-input" title="女" {if $info['sex'] eq 2 }checked='checked'{/if}>
                </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">语言要求</label>
            <div class="layui-input-inline">
                <select name="language" lay-filter="select-role" lay-verify="required">
                    <option value="">-- 选择语言要求 --</option>
                    <option value="不限" >不限</option>
                    <option value="普通话一级" {if $info.language eq "普通话一级" }selected{/if}>普通话一级</option>
                    <option value="普通话二级" {if $info.language eq "普通话二级" }selected{/if}>普通话二级</option>
                    <option value="普通话三级" {if $info.language eq "普通话三级" }selected{/if}>普通话三级</option>
                    <option value="英语"      {if $info.language eq "英语"      }selected{/if}>英语     </option>
                    <option value="其他语言"   {if $info.language eq "其他语言"  }selected{/if}>其他语言  </option>
                </select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">人数下限</label>
            <div class="layui-input-block">
                <input type="text" name="num_lower" value="{$info['num_lower']|default:''}"  lay-verify="number|num_lower" placeholder="请输入人数下限" autocomplete="off" class="layui-input" style="width:200px;">
            </div>
            <span >-</span>
            <label class="layui-form-label">人数上限</label>
            <div class="layui-input-block">
                <input type="text" name="num_upper" value="{$info['num_upper']|default:''}"  lay-verify="number|num_upper" placeholder="请输入人数上限" autocomplete="off" class="layui-input" style="width:200px;">
            </div>
        </div>

        <div class="layui-form-item">

        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">薪水下限</label>
            <div class="layui-input-block">
                <input type="text" name="money_lower" value="{$info['money_lower']|default:''}" lay-verify="number|money_lower" placeholder="请输入薪水下限" autocomplete="off" class="layui-input" style="width:200px;">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">薪水上限</label>
            <div class="layui-input-block">
                <input type="text" name="money_upper" value="{$info['money_upper']|default:''}" lay-verify="number|money_upper" placeholder="请输入薪水上限" autocomplete="off" class="layui-input" style="width:200px;">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">职业要求</label>
            <div class="layui-input-block">
                <textarea placeholder="请输入职业要求" name="require" data-index="0" data-id="{$info.id}"   id="LAY_demo1_editor"  lay-verify=""  class="layui-hide layedit">{$info['require']|default:''}</textarea>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">学历要求</label>
            <div class="layui-input-inline">
                <select name="education" lay-filter="select-role" lay-verify="required">
                    <option value="">-- 选择学历要求 --</option>
                    <option value="不限" {if $info.education eq "不限" }selected{/if} >不限</option>
                    <option value="高中" {if $info.education eq "高中" }selected{/if}>高中</option>
                    <option value="中专" {if $info.education eq "中专" }selected{/if}>中专</option>
                    <option value="大专" {if $info.education eq "大专" }selected{/if}>大专</option>
                    <option value="本科" {if $info.education eq "本科" }selected{/if} >本科</option>
                    <option value="硕士" {if $info.education eq "硕士" }selected{/if}>硕士</option>
                    <option value="博士" {if $info.education eq "博士" }selected{/if}>博士</option>
                </select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">经验要求</label>
            <div class="layui-input-inline">
                <select name="experience" lay-filter="select-role" lay-verify="required">
                    <option value="">-- 选择经验要求 --</option>
                    <option value="不限" {if $info.experience eq "不限" }selected{/if} >不限</option>
                    <option value="应届毕业生" {if $info.experience eq "应届毕业生" }selected{/if} >应届毕业生</option>
                    <option value="1年以上" {if $info.experience eq "1年以上" }selected{/if} >1年以上</option>
                    <option value="2年以上" {if $info.experiencee eq "2年以上" }selected{/if}>2年以上</option>
                    <option value="3年以上" {if $info.experience eq "3年以上"}selected{/if}>3年以上</option>
                    <option value="5年以上" {if $info.experience eq "5年以上" }selected{/if}>5年以上</option>
                    <option value="8年以上" {if $info.experience eq "8年以上"}selected{/if}>8年以上</option>
                    <option value="10年以上" {if $info.experience eq "10年以上"}selected{/if}>10年以上</option>
                </select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">省市区</label>
            <div class="layui-input-block">
                {local app=city act=select param1=$info.prov_id  param2=$info.city_id  param3=$info.dist_id }
            </div>
        </div>
         <div class="layui-form-item">
            <label class="layui-form-label">详细地址</label>
            <div class="layui-input-block">
                <input type="text" name="address" value="{$info['address']|default:''}" lay-verify="required" placeholder="请输入地址" autocomplete="off" class="layui-input">
            </div>
         </div>
        <div class="layui-form-item">
            <label class="layui-form-label">联系人</label>
            <div class="layui-input-block">
                <input type="text" name="link_person" value="{$info['link_person']|default:''}" lay-verify="" placeholder="请输入联系人" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">联系电话</label>
            <div class="layui-input-block">
                <input type="text" name="link_phone" value="{$info['link_phone']|default:''}" lay-verify="required|link_phone" placeholder="请输入联系电话" autocomplete="off" class="layui-input">
            </div>
        </div>
        {if $info.type eq "2" }
        <div class="layui-form-item">
            <label class="layui-form-label">兼职有效期</label>
            <div class="layui-input-block">
                <input type="text" id="date_start" name="date_start" value="{date('Y-m-d H:i:s',$info['date_start']|default:'')}" lay-verify=""  autocomplete="off" class="layui-input" placeholder="请输入兼职开始时间"  style="width:200px;">
                <input type="text" id="date_end"  name="date_end" value="{date('Y-m-d H:i:s',$info['date_end']|default:'')}" lay-verify="" autocomplete="off" class="layui-input"  placeholder="请输入兼职结束时间" style="width:200px;">
            </div>
        </div>
        {/if}
        {if $info.type eq "1" }
        <div class="layui-form-item">
            <label class="layui-form-label">工作开始时间</label>
            <div class="layui-input-block">
                <input type="text" id="time_start" name="time_start" value="{$info['time_start']|default:''}" lay-verify="time_start"  autocomplete="off" class="layui-input" placeholder="请输入工作开始时间"  style="width:200px;">
                </div>
            <label class="layui-form-label">工作结束时间</label>
            <div class="layui-input-block">
                <input type="text" id="time_end" name="time_end" value="{$info['time_end']|default:''}" lay-verify="time_end"  autocomplete="off" class="layui-input" placeholder="请输入工作结束时间"  style="width:200px;">
            </div>
        </div>
        {/if}
        <div class="layui-form-item">
            <label class="layui-form-label">工作内容</label>
            <div class="layui-input-block">
                <textarea  class="layui-hide layedit" name="content" data-index="0" data-id="{$info.id}"   id="LAY_demo_editor">{$info['content']|default:''}</textarea>
            </div>
        </div>
        <div class="layui-form-item layui-hide">
            <div class="layui-input-block">
                <button class="layui-btn" lay-submit lay-filter="edit">提交</button>
                <button type="reset" class="layui-btn layui-btn-primary">重置</button>
            </div>
        </div>
    </form>
</div>
<script>
layui.use(['form', 'layedit', 'laydate'], function(){
    var $ = layui.jquery,
        form = layui.form,
        layer = layui.layer,
        layedit = layui.layedit,
        laydate = layui.laydate;
    //时间选择器
    laydate.render({
        elem: '#date_end'
        ,type: 'datetime'
    });
    laydate.render({
        elem: '#date_start'
        ,type: 'datetime'
    });
    //建立富文本编辑器
    layedit.set({
        uploadImage: {
            url: _this_module_url + '/Index/upload_layedit',
        }
    });

    var index = layedit.build('LAY_demo_editor');
    $('#LAY_demo_editor').attr('data-index', index);

    var index1 = layedit.build('LAY_demo1_editor');
    $('#LAY_demo1_editor').attr('data-index', index1);


    form.on('submit(edit)', function(data){
        //富文本同步
        var s = 0;
        $("textarea").each(function(){
            var index2 = $(this).attr('data-index');
            var id = $(this).attr('data-id');
            $('#data_'+id).html(layedit.getContent(index2));
            layedit.sync(index2);
        });
        setDate();
        return false;
    });

    //自定义验证规则
    form.verify({
           title: function(value){
            if(value.length < 3){
                return '标题至少得3个字符啊';
            }
          }, title: function(value, item){ //value：表单的值、item：表单的DOM对象
            if(!new RegExp("^[a-zA-Z0-9_\u4e00-\u9fa5\\s·]+$").test(value)){
                return '用户名不能有特殊字符';
            }
          },
            require: function(value){
            if(value.length < 4){
                return '职位要求请输入至少4个字符';
            }
          },
           num_lower: function(value){
            if(value.length < 1){
                return '人数下限不能为0';
            }
          },
           num_upper: function(value){
             if(value.length > 100){
                return '人数下限不能超过100';
            }
          },
           money_lower: function(value){
            if(value.length < 1){
                return '薪水下限不能低于1';
            }
        },
           money_upper: function(value){
            if(value.length > 100000){
                return '薪水上限不能超过100000';
            }
        },
        link_phone: function(input) {
            var regex = /^[1][3,4,5,7,8][0-9]{9}$/;
            if(input.match(regex)) {
                return true;
            } else {
                return false;
            }
        }
    });

});

</script>
